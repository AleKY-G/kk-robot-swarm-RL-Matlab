<!--
 * @Author: Loren
 * @Date: 2022-04-12 11:49:28
 * @LastEditTime: 2022-04-12 17:58:06
 * @FilePath: /misaro_ws/misaro-doc/src/定位系统.md
 * @Description: 定位系统简介
 * 
 * Copyright (c) 2022 by AmovLab, All Rights Reserved. 
-->
# 定位系统

## 定位系统简介

Misaro定位系统采用摄像头和二维码的方式获取小车的位置和方向信息。通过垂直悬挂的摄像机采集场地中贴有二维码的小车，获取其位置和方向数据，同时将数据传入到整个系统之中。供其他功能包使用。

## 定位系统功能包

定位系统相关功能包如下：

1. `camtoros` ：该功能包为海康威视工业相机的ROS驱动

   - 发布话题：

     - /hik_camera/image_raw [sensor_msgs/Image]

       原始图像数据

     - /hik_camera/camera_info [sensor_msgs/CameraInfo]

       相机内外参数

2. `apriltag_ros`
   
   [apriltag_ros_wiki](http://wiki.ros.org/apriltag_ros)
   - 发布话题：
      - /tag_detections [apriltag_ros/AprilTagDetectionArray]
      
        标签检测 
      - /tag_detections_image [sensor_msgs/Image]
       
        检测到标签的图像数据
      - /tf
  
        坐标变换数据
   - 订阅话题：
      - /hik_camera/image_raw [sensor_msgs/Image]
      
      - /hik_camera/camera_info [sensor_msgs/CameraInfo]

3. `positioning`：定位系统主要功能包，包括**底层通信**和**位置数据发布**。
   

## 操作流程

